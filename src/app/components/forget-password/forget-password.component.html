<div class="page-container">
    <mat-card>
      <mat-card-title style="color: red;">Forgot Password</mat-card-title>
    
      <!-- Tabs to choose the reset method -->
      <mat-tab-group>
        
        <!-- Tab 1: Reset password by email -->
        <mat-tab label="Email Reset">
          <form [formGroup]="emailResetForm" (ngSubmit)="onEmailReset()">
            <mat-form-field appearance="outline">
              <mat-label>Email</mat-label>
              <input matInput formControlName="email" type="email" placeholder="Enter your email" required>
              <mat-error *ngIf="emailResetForm.get('email')?.hasError('required')">Email is required</mat-error>
              <mat-error *ngIf="emailResetForm.get('email')?.hasError('email')">Invalid email address</mat-error>
            </mat-form-field>
            
            <button mat-raised-button color="primary" type="submit" [disabled]="emailResetForm.invalid">
              Reset via Email
            </button>
          </form>
        </mat-tab>
    
        <!-- Tab 2: Reset password with old and new password -->
        <mat-tab label="Reset with Current Password">
          <form [formGroup]="passwordResetForm" (ngSubmit)="onPasswordReset()">
            <mat-form-field appearance="outline">
              <mat-label>Current Password</mat-label>
              <input matInput formControlName="currentPassword" type="password" placeholder="Enter current password" required>
              <mat-error *ngIf="passwordResetForm.get('currentPassword')?.hasError('required')">Current password is required</mat-error>
            </mat-form-field>
            
            <mat-form-field appearance="outline">
              <mat-label>New Password</mat-label>
              <input matInput formControlName="newPassword" type="password" placeholder="Enter new password" required>
              <mat-error *ngIf="passwordResetForm.get('newPassword')?.hasError('required')">New password is required</mat-error>
              <mat-error *ngIf="passwordResetForm.get('newPassword')?.hasError('minlength')">Password must be at least 8 characters</mat-error>
            </mat-form-field>
    
            <mat-form-field appearance="outline">
              <mat-label>Confirm New Password</mat-label>
              <input matInput formControlName="confirmNewPassword" type="password" placeholder="Confirm new password" required>
              <mat-error *ngIf="passwordResetForm.get('confirmNewPassword')?.hasError('required')">Please confirm your new password</mat-error>
              <mat-error *ngIf="passwordResetForm.hasError('passwordMismatch')">Passwords do not match</mat-error>
            </mat-form-field>
    
            <button mat-raised-button color="primary" type="submit" [disabled]="passwordResetForm.invalid">
              Reset Password
            </button>
          </form>
        </mat-tab>
    
      </mat-tab-group>
    </mat-card>
  </div>