<div class="register-container" >
    
    <div class="register-image">
      <img src="../../../assets/image2.jpeg" alt="Register Image">
    </div>
    <div class="register-form">
      <mat-card>
        <div class="userimagediv">
          <img [src]="imagePreview || '../../../assets/user1.png'" alt="User Image" class="userimage">
          <input type="file" (change)="onImageSelected($event)" accept="image/*" id="imageInput" style="display: none;">
          <button mat-raised-button color="primary" (click)="triggerImageInput()">
            Select Profile Image
          </button>
        </div>
        <mat-card-header>
          <mat-card-title>Register as : {{selectedRole}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" #registerFormElement>
            <mat-form-field appearance="outline">
              <mat-label>Username</mat-label>
              <input matInput formControlName="username" required  #usernameInput>
              <mat-error *ngIf="registerForm.get('username')?.hasError('required')">Username is required</mat-error>
            </mat-form-field>
  
            <mat-form-field appearance="outline">
              <mat-label>Password</mat-label>
              <input matInput type="password" formControlName="password" required >
              <mat-error *ngIf="registerForm.get('password')?.hasError('required')">Password is required</mat-error>
              <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">Password must be at least 8 characters</mat-error>
            </mat-form-field>
  
            <mat-form-field appearance="outline">
              <mat-label>Email</mat-label>
              <input matInput type="email" formControlName="email" required>
              <mat-error *ngIf="registerForm.get('email')?.hasError('required')">Email is required</mat-error>
              <mat-error *ngIf="registerForm.get('email')?.hasError('email')">Please enter a valid email</mat-error>
            </mat-form-field>
  
            <mat-form-field appearance="outline">
              <mat-label>First Name</mat-label>
              <input matInput formControlName="firstName">
            </mat-form-field>
  
            <mat-form-field appearance="outline">
              <mat-label>Last Name</mat-label>
              <input matInput formControlName="lastName">
            </mat-form-field>
  
            <mat-form-field appearance="outline">
              <mat-label>Phone Number</mat-label>
              <input matInput formControlName="phoneNumber">
            </mat-form-field>
  
            <mat-form-field appearance="outline">
              <mat-label>Address</mat-label>
              <textarea matInput formControlName="address"></textarea>
            </mat-form-field>
  
            <div class="button-container">
              <button mat-raised-button color="primary" type="submit" [disabled]="registerForm.invalid || !selectedRole || !selectedImage">Register</button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="overlay" *ngIf="isDialogOpen"></div>

  </div>